!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(this,function(){"use strict";function t(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})}function e(t){return new this(function(e,n){if(!(t&&void 0!==t.length))return n(TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var o=r.length;function i(t,n){if(n&&("object"==typeof n||"function"==typeof n)){var f=n.then;if("function"==typeof f){f.call(n,function(e){i(t,e)},function(n){r[t]={status:"rejected",reason:n},0==--o&&e(r)});return}}r[t]={status:"fulfilled",value:n},0==--o&&e(r)}for(var f=0;f<r.length;f++)i(f,r[f])})}function n(t,e){this.name="AggregateError",this.errors=t,this.message=e||""}function r(t){var e=this;return new e(function(r,o){if(!(t&&void 0!==t.length))return o(TypeError("Promise.any accepts an array"));var i=Array.prototype.slice.call(t);if(0===i.length)return o();for(var f=[],u=0;u<i.length;u++)try{e.resolve(i[u]).then(r).catch(function(t){f.push(t),f.length===i.length&&o(new n(f,"All promises were rejected"))})}catch(c){o(c)}})}n.prototype=Error.prototype;var o=setTimeout;function i(t){return Boolean(t&&void 0!==t.length)}function f(){}function u(t){if(!(this instanceof u))throw TypeError("Promises must be constructed via new");if("function"!=typeof t)throw TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(t,this)}function c(t,e){for(;3===t._state;)t=t._value;if(0===t._state){t._deferreds.push(e);return}t._handled=!0,u._immediateFn(function(){var n,r=1===t._state?e.onFulfilled:e.onRejected;if(null===r){(1===t._state?a:l)(e.promise,t._value);return}try{n=r(t._value)}catch(o){l(e.promise,o);return}a(e.promise,n)})}function a(t,e){try{if(e===t)throw TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n,r,o=e.then;if(e instanceof u){t._state=3,t._value=e,s(t);return}if("function"==typeof o){p((n=o,r=e,function(){n.apply(r,arguments)}),t);return}}t._state=1,t._value=e,s(t)}catch(i){l(t,i)}}function l(t,e){t._state=2,t._value=e,s(t)}function s(t){2===t._state&&0===t._deferreds.length&&u._immediateFn(function(){t._handled||u._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)c(t,t._deferreds[e]);t._deferreds=null}function h(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function p(t,e){var n=!1;try{t(function(t){n||(n=!0,a(e,t))},function(t){n||(n=!0,l(e,t))})}catch(r){if(n)return;n=!0,l(e,r)}}u.prototype.catch=function(t){return this.then(null,t)},u.prototype.then=function(t,e){var n=new this.constructor(f);return c(this,new h(t,e,n)),n},u.prototype.finally=t,u.all=function(t){return new u(function(e,n){if(!i(t))return n(TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var o=r.length;function f(t,i){try{if(i&&("object"==typeof i||"function"==typeof i)){var u=i.then;if("function"==typeof u){u.call(i,function(e){f(t,e)},n);return}}r[t]=i,0==--o&&e(r)}catch(c){n(c)}}for(var u=0;u<r.length;u++)f(u,r[u])})},u.any=r,u.allSettled=e,u.resolve=function(t){return t&&"object"==typeof t&&t.constructor===u?t:new u(function(e){e(t)})},u.reject=function(t){return new u(function(e,n){n(t)})},u.race=function(t){return new u(function(e,n){if(!i(t))return n(TypeError("Promise.race accepts an array"));for(var r=0,o=t.length;r<o;r++)u.resolve(t[r]).then(e,n)})},u._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){o(t,0)},u._unhandledRejectionFn=function t(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var d=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw Error("unable to locate global object")}();"function"!=typeof d.Promise?d.Promise=u:(d.Promise.prototype.finally||(d.Promise.prototype.finally=t),d.Promise.allSettled||(d.Promise.allSettled=e),d.Promise.any||(d.Promise.any=r))});